<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Form Builder | WoltLab Suite 5.3 Documentation</title>

<link rel="stylesheet" href="https://docs.woltlab.com/5.3/css/syntax.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600">
<link rel="stylesheet" href="https://docs.woltlab.com/5.3/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="https://docs.woltlab.com/5.3/css/modern-business.css">
<link rel="stylesheet" href="https://docs.woltlab.com/5.3/css/lavish-bootstrap.css">
<link rel="stylesheet" href="https://docs.woltlab.com/5.3/css/customstyles.css">
<link rel="stylesheet" href="https://docs.woltlab.com/5.3/css/theme-blue.css?v=3">

<script src="https://docs.woltlab.com/5.3/js/jquery.min.js"></script>
<script src="https://docs.woltlab.com/5.3/js/jquery.cookie.min.js"></script>
<script src="https://docs.woltlab.com/5.3/js/jquery.navgoco.min.js"></script>
<script src="https://docs.woltlab.com/5.3/js/bootstrap.min.js"></script>
<script src="https://docs.woltlab.com/5.3/js/anchor.min.js"></script>
<script src="https://docs.woltlab.com/5.3/js/toc.js"></script>
<script src="https://docs.woltlab.com/5.3/js/customscripts.js"></script>

<link rel="shortcut icon" href="https://docs.woltlab.com/5.3/images/favicon.ico">

<link rel="alternate" type="application/rss+xml" title="docs.woltlab.com" href="https://docs.woltlab.com/5.3feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>
  <!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> WoltLab Suite 5.3 Documentation</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                
                
                <li><a href="https://www.woltlab.com" target="_blank">woltlab.com</a></li>
                
                
                
                
                
                <li><a href="https://github.com/WoltLab/WCF/" target="_blank">Code on github.com</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="https://docs.woltlab.com/5.3/js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'https://docs.woltlab.com/5.3/search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Form Builder">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>


  <div class="container">
    <div class="col-lg-12">&nbsp;</div>

    <div class="row">
      <div class="col-md-3">
        


<ul id="mysidebar" class="nav">
    <li class="sidebarTitle">WoltLab Suite 5.3</li>

    
        
            <li>
                <a href="#">Getting Started</a>
                <ul>
                    
                        
                            
                            
                                <li data-identifier="index"><a href="index.html">Introduction</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="getting-started_quick-start"><a href="getting-started_quick-start.html">Quick Start</a></li>
                            
                        

                        
                    
                </ul>
            </li>
        
            <li>
                <a href="#">PHP API</a>
                <ul>
                    
                        
                            
                            
                                <li data-identifier="php_pages"><a href="php_pages.html">Pages</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="php_database-objects"><a href="php_database-objects.html">Database Objects</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="php_database-access"><a href="php_database-access.html">Database Access</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="php_exceptions"><a href="php_exceptions.html">Exceptions</a></li>
                            
                        

                        
                    
                        

                        
                            <li class="subfolders">
                                <a href="#">API</a>
                                <ul>
                                    
                                        
                                        
                                            <li data-identifier="php_api_caches"><a href="php_api_caches.html">Caches</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="php_api_comments"><a href="php_api_comments.html">Comments</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="php_api_cronjobs"><a href="php_api_cronjobs.html">Cronjobs</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="php_api_events"><a href="php_api_events.html">Events</a></li>
                                        
                                    
                                        
                                        
                                            <li class="active" data-identifier="php_api_form_builder"><a href="php_api_form_builder.html">Form Builder</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="php_api_package_installation_plugins"><a href="php_api_package_installation_plugins.html">Package Installation Plugins</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="php_api_user_activity_points"><a href="php_api_user_activity_points.html">User Activity Points</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="php_api_user_notifications"><a href="php_api_user_notifications.html">User Notifications</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="php_api_sitemaps"><a href="php_api_sitemaps.html">Sitemaps</a></li>
                                        
                                    
                                </ul>
                            </li>
                        
                    
                        
                            
                            
                                <li data-identifier="php_code-style"><a href="php_code-style.html">Code Style</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="php_apps"><a href="php_apps.html">Apps</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="php_gdpr"><a href="php_gdpr.html">GDPR</a></li>
                            
                        

                        
                    
                </ul>
            </li>
        
            <li>
                <a href="#">Languages, Templates & CSS</a>
                <ul>
                    
                        
                            
                            
                                <li data-identifier="view_languages"><a href="view_languages.html">Languages</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="view_templates"><a href="view_templates.html">Templates</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="view_css"><a href="view_css.html">CSS</a></li>
                            
                        

                        
                    
                </ul>
            </li>
        
            <li>
                <a href="#">JavaScript API</a>
                <ul>
                    
                        
                            
                            
                                <li data-identifier="javascript_general-usage"><a href="javascript_general-usage.html">General Usage</a></li>
                            
                        

                        
                    
                        

                        
                            <li class="subfolders">
                                <a href="#">New API</a>
                                <ul>
                                    
                                        
                                        
                                            <li data-identifier="javascript_new-api_writing-a-module"><a href="javascript_new-api_writing-a-module.html">Writing a module</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="javascript_new-api_data-structures"><a href="javascript_new-api_data-structures.html">Data Structures</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="javascript_new-api_core"><a href="javascript_new-api_core.html">Core Functions</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="javascript_new-api_dom"><a href="javascript_new-api_dom.html">DOM</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="javascript_new-api_events"><a href="javascript_new-api_events.html">Event Handling</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="javascript_new-api_ajax"><a href="javascript_new-api_ajax.html">Ajax</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="javascript_new-api_dialogs"><a href="javascript_new-api_dialogs.html">Dialogs</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="javascript_new-api_browser"><a href="javascript_new-api_browser.html">Browser and Screen Sizes</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="javascript_new-api_ui"><a href="javascript_new-api_ui.html">User Interface</a></li>
                                        
                                    
                                </ul>
                            </li>
                        
                    
                        
                            
                            
                                <li data-identifier="javascript_legacy-api"><a href="javascript_legacy-api.html">Legacy API</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="javascript_helper-functions"><a href="javascript_helper-functions.html">Helper Functions</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="javascript_code-snippets"><a href="javascript_code-snippets.html">Code Snippets</a></li>
                            
                        

                        
                    
                </ul>
            </li>
        
            <li>
                <a href="#">Package Components</a>
                <ul>
                    
                        
                            
                            
                                <li data-identifier="package_package-xml"><a href="package_package-xml.html">package.xml</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="package_pip"><a href="package_pip.html">PIPs</a></li>
                            
                        

                        
                    
                </ul>
            </li>
        
            <li>
                <a href="#">Migration</a>
                <ul>
                    
                        

                        
                            <li class="subfolders">
                                <a href="#">Migrating from WSC 5.2</a>
                                <ul>
                                    
                                        
                                        
                                            <li data-identifier="migration_wsc-52_php"><a href="migration_wsc-52_php.html">PHP API</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="migration_wsc-52_templates"><a href="migration_wsc-52_templates.html">Templates and Languages</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="migration_wsc-52_libraries"><a href="migration_wsc-52_libraries.html">Third Party Libraries</a></li>
                                        
                                    
                                </ul>
                            </li>
                        
                            <li class="subfolders">
                                <a href="#">Migrating from WSC 3.1</a>
                                <ul>
                                    
                                        
                                        
                                            <li data-identifier="migration_wsc-31_php"><a href="migration_wsc-31_php.html">PHP API</a></li>
                                        
                                    
                                </ul>
                            </li>
                        
                            <li class="subfolders">
                                <a href="#">Migrating from WSC 3.0</a>
                                <ul>
                                    
                                        
                                        
                                            <li data-identifier="migration_wsc-30_php"><a href="migration_wsc-30_php.html">PHP API</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="migration_wsc-30_javascript"><a href="migration_wsc-30_javascript.html">JavaScript API</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="migration_wsc-30_templates"><a href="migration_wsc-30_templates.html">Templates</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="migration_wsc-30_css"><a href="migration_wsc-30_css.html">CSS</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="migration_wsc-30_package"><a href="migration_wsc-30_package.html">Package Components</a></li>
                                        
                                    
                                </ul>
                            </li>
                        
                            <li class="subfolders">
                                <a href="#">Migrating from WCF 2.1</a>
                                <ul>
                                    
                                        
                                        
                                            <li data-identifier="migration_wcf-21_php"><a href="migration_wcf-21_php.html">PHP API</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="migration_wcf-21_templates"><a href="migration_wcf-21_templates.html">Templates</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="migration_wcf-21_css"><a href="migration_wcf-21_css.html">CSS</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="migration_wcf-21_package"><a href="migration_wcf-21_package.html">Package Components</a></li>
                                        
                                    
                                </ul>
                            </li>
                        
                    
                </ul>
            </li>
        
            <li>
                <a href="#">Tutorials</a>
                <ul>
                    
                        
                            
                            
                                <li data-identifier="tutorial_tutorial-series"><a href="tutorial_tutorial-series.html">Tutorial Series</a></li>
                            
                        

                        
                    
                </ul>
            </li>
        
    
</ul>

<script>
(function() {
    var sidebar = $('#mysidebar');
    var item = sidebar.find('.active');
    if (item.length === 0) {
        var parent = '';
        if (parent) {
            sidebar.find('li[data-identifier="' + parent + '"]').addClass('active');
        }
    }

    sidebar.find(".active").parents('li').toggleClass("active");
})();
</script>

      </div>

      <div class="col-md-9">
        <div class="bs-callout bs-callout-info">This version of the documentation for WoltLab Suite 5.3 is outdated. Please refer to <a href="https://docs.woltlab.com/latest/">the latest version</a>.</div>

        <div class="post-header">
   <h1 class="post-title-main">Form Builder</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    
    
  <div class="bs-callout bs-callout-info">Form builder is only available since WoltLab Suite Core 5.2.</div>

<div class="bs-callout bs-callout-info">The <a href="migration_wsc-31_form-builder.html">migration guide for WoltLab Suite Core 5.2</a> provides some examples of how to migrate existing forms to form builder that can also help in understanding form builder if the old way of creating forms is familiar.</div>

<h2 id="advantages-of-form-builder">Advantages of Form Builder</h2>

<p>WoltLab Suite 5.2 introduces a new powerful way of creating forms: form builder.
Before taking a closer look at form builder, let us recap how forms are created in previous versions:
In general, for each form field, there is a corresponding property of the form’s PHP class whose value has to be read from the request data, validated, and passed to the database object action to store the value in a database table.
When editing an object, the property’s value has to be set using the value of the corresponding property of the edited object.
In the form’s template, you have to write the <code class="language-plaintext highlighter-rouge">&lt;form&gt;</code> element with all of its children: the <code class="language-plaintext highlighter-rouge">&lt;section&gt;</code> elements, the <code class="language-plaintext highlighter-rouge">&lt;dl&gt;</code> elements, and, of course, the form fields themselves.
In summary, this way of creating forms creates much duplicate or at least very similar code and makes it very time consuming if the structure of forms in general or a specific type of form field has to be changed.</p>

<p>Form builder, in contrast, relies on PHP objects representing each component of the form, from the form itself down to each form field.
This approach makes creating forms as easy as creating some PHP objects, populating them with all the relevant data, and one line of code in the template to print the form.</p>

<h2 id="form-builder-components">Form Builder Components</h2>

<p>Form builder consists of several components that are presented on the following pages:</p>

<ol>
  <li><a href="php_api_form_builder-structure.html">Structure of form builder</a></li>
  <li><a href="php_api_form_builder-validation_data.html">Form validation and form data</a></li>
  <li><a href="php_api_form_builder-dependencies.html">Form node dependencies</a></li>
</ol>

<div class="bs-callout bs-callout-warning">In general, form builder provides default implementation of interfaces by providing either abstract classes or traits.
  It is expected that the interfaces are always implemented using these abstract classes and traits!
  This way, if new methods are added to the interfaces, default implementations can be provided by the abstract classes and traits without causing backwards compatibility problems.</div>

<h2 id="abstractformbuilderform"><code class="language-plaintext highlighter-rouge">AbstractFormBuilderForm</code></h2>

<p>To make using form builder easier, <code class="language-plaintext highlighter-rouge">AbstractFormBuilderForm</code> extends <code class="language-plaintext highlighter-rouge">AbstractForm</code> and provides most of the code needed to set up a form (of course without specific fields, those have to be added by the concrete form class), like reading and validating form values and using a database object action to use the form data to create or update a database object.</p>

<p>In addition to the existing methods inherited by <code class="language-plaintext highlighter-rouge">AbstractForm</code>, <code class="language-plaintext highlighter-rouge">AbstractFormBuilderForm</code> provides the following methods:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">buildForm()</code> builds the form in the following steps:</p>

    <ol>
      <li>Call <code class="language-plaintext highlighter-rouge">AbtractFormBuilderForm::createForm()</code> to create the <code class="language-plaintext highlighter-rouge">IFormDocument</code> object and add the form fields.</li>
      <li>Call <code class="language-plaintext highlighter-rouge">IFormDocument::build()</code> to build the form.</li>
      <li>Call <code class="language-plaintext highlighter-rouge">AbtractFormBuilderForm::finalizeForm()</code> to finalize the form like adding dependencies.</li>
    </ol>

    <p>Additionally, between steps 1 and 2 and after step 3, the method provides two events, <code class="language-plaintext highlighter-rouge">createForm</code> and <code class="language-plaintext highlighter-rouge">buildForm</code> to allow plugins to register event listeners to execute additional code at the right point in time.</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">createForm()</code> creates the <code class="language-plaintext highlighter-rouge">FormDocument</code> object and sets the form mode.
Classes extending <code class="language-plaintext highlighter-rouge">AbstractFormBuilderForm</code> have to override this method (and call <code class="language-plaintext highlighter-rouge">parent::createForm()</code> as the first line in the overridden method) to add concrete form containers and form fields to the bare form document.</li>
  <li><code class="language-plaintext highlighter-rouge">finalizeForm()</code> is called after the form has been built and the complete form hierarchy has been established.
This method should be overridden to add dependencies, for example.</li>
  <li><code class="language-plaintext highlighter-rouge">setFormAction()</code> is called at the end of <code class="language-plaintext highlighter-rouge">readData()</code> and sets the form document’s action based on the controller class name and whether an object is currently edited.</li>
  <li>If an object is edited, at the beginning of <code class="language-plaintext highlighter-rouge">readData()</code>, <code class="language-plaintext highlighter-rouge">setFormObjectData()</code> is called which calls <code class="language-plaintext highlighter-rouge">IFormDocument::loadValuesFromObject()</code>.
If values need to be loaded from additional sources, this method should be used for that.</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">AbstractFormBuilderForm</code> also provides the following (public) properties:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">$form</code> contains the <code class="language-plaintext highlighter-rouge">IFormDocument</code> object created in <code class="language-plaintext highlighter-rouge">createForm()</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">$formAction</code> is either <code class="language-plaintext highlighter-rouge">create</code> (default) or <code class="language-plaintext highlighter-rouge">edit</code> and handles which method of the database object is called by default (<code class="language-plaintext highlighter-rouge">create</code> is called for <code class="language-plaintext highlighter-rouge">$formAction = 'create'</code> and <code class="language-plaintext highlighter-rouge">update</code> is called for <code class="language-plaintext highlighter-rouge">$formAction = 'edit'</code>) and is used to set the value of the <code class="language-plaintext highlighter-rouge">action</code> template variable.</li>
  <li><code class="language-plaintext highlighter-rouge">$formObject</code> contains the <code class="language-plaintext highlighter-rouge">IStorableObject</code> if the form is used to edit an existing object.
For forms used to create objects, <code class="language-plaintext highlighter-rouge">$formObject</code> is always <code class="language-plaintext highlighter-rouge">null</code>.
Edit forms have to manually identify the edited object based on the request data and set the value of <code class="language-plaintext highlighter-rouge">$formObject</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">$objectActionName</code> can be used to set an alternative action to be executed by the database object action that deviates from the default action determined by the value of <code class="language-plaintext highlighter-rouge">$formAction</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">$objectActionClass</code> is the name of the database object action class that is used to create or update the database object.</li>
</ul>

<h2 id="dialogformdocument"><code class="language-plaintext highlighter-rouge">DialogFormDocument</code></h2>

<p>Form builder forms can also be used in dialogs.
For such forms, <code class="language-plaintext highlighter-rouge">DialogFormDocument</code> should be used which provides the additional methods <code class="language-plaintext highlighter-rouge">cancelable($cancelable = true)</code> and <code class="language-plaintext highlighter-rouge">isCancelable()</code> to set and check if the dialog can be canceled.
If a dialog form can be canceled, a cancel button is added.</p>

<p>If the dialog form is fetched via an AJAX request, <code class="language-plaintext highlighter-rouge">IFormDocument::ajax()</code> has to be called.
AJAX forms are registered with <code class="language-plaintext highlighter-rouge">WoltLabSuite/Core/Form/Builder/Manager</code> which also supports getting all of the data of a form via the <code class="language-plaintext highlighter-rouge">getData(formId)</code> function.
The <code class="language-plaintext highlighter-rouge">getData()</code> function relies on all form fields creating and registering a <code class="language-plaintext highlighter-rouge">WoltLabSuite/Core/Form/Builder/Field/Field</code> object that provides the data of a specific field.</p>

<p>To make it as easy as possible to work with AJAX forms in dialogs, <code class="language-plaintext highlighter-rouge">WoltLabSuite/Core/Form/Builder/Dialog</code> (abbreviated as <code class="language-plaintext highlighter-rouge">FormBuilderDialog</code> from now on) should generally be used instead of <code class="language-plaintext highlighter-rouge">WoltLabSuite/Core/Form/Builder/Manager</code> directly. 
The constructor of <code class="language-plaintext highlighter-rouge">FormBuilderDialog</code> expects the following parameters:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">dialogId</code>: id of the dialog element</li>
  <li><code class="language-plaintext highlighter-rouge">className</code>: PHP class used to get the form dialog (and save the data if <code class="language-plaintext highlighter-rouge">options.submitActionName</code> is set)</li>
  <li><code class="language-plaintext highlighter-rouge">actionName</code>: name of the action/method of <code class="language-plaintext highlighter-rouge">className</code> that returns the dialog; the method is expected to return an array with <code class="language-plaintext highlighter-rouge">formId</code> containg the id of the returned form and <code class="language-plaintext highlighter-rouge">dialog</code> containing the rendered form dialog</li>
  <li><code class="language-plaintext highlighter-rouge">options</code>: additional options:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">actionParameters</code> (default: empty): additional parameters sent during AJAX requests</li>
      <li><code class="language-plaintext highlighter-rouge">destroyOnClose</code> (default: <code class="language-plaintext highlighter-rouge">false</code>): if <code class="language-plaintext highlighter-rouge">true</code>, whenever the dialog is closed, the form is destroyed so that a new form is fetched if the dialog is opened again</li>
      <li><code class="language-plaintext highlighter-rouge">dialog</code>: additional dialog options used as <code class="language-plaintext highlighter-rouge">options</code> during dialog setup</li>
      <li><code class="language-plaintext highlighter-rouge">onSubmit</code>: callback when the form is submitted (takes precedence over <code class="language-plaintext highlighter-rouge">submitActionName</code>)</li>
      <li><code class="language-plaintext highlighter-rouge">submitActionName</code> (default: not set): name of the action/method of <code class="language-plaintext highlighter-rouge">className</code> called when the form is submitted</li>
    </ul>
  </li>
</ul>

<p>The three public functions of <code class="language-plaintext highlighter-rouge">FormBuilderDialog</code> are:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">destroy()</code> destroys the dialog, the form, and all of the form fields.</li>
  <li><code class="language-plaintext highlighter-rouge">getData()</code> returns a Promise that returns the form data.</li>
  <li><code class="language-plaintext highlighter-rouge">open()</code> opens the dialog.</li>
</ul>

<p>Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">require</span><span class="p">([</span><span class="dl">'</span><span class="s1">WoltLabSuite/Core/Form/Builder/Dialog</span><span class="dl">'</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">FormBuilderDialog</span><span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">dialog</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FormBuilderDialog</span><span class="p">(</span>
		<span class="dl">'</span><span class="s1">testDialog</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">wcf</span><span class="se">\\</span><span class="s1">data</span><span class="se">\\</span><span class="s1">test</span><span class="se">\\</span><span class="s1">TestAction</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">getDialog</span><span class="dl">'</span><span class="p">,</span>
		<span class="p">{</span>
			<span class="na">destroyOnClose</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
			<span class="na">dialog</span><span class="p">:</span> <span class="p">{</span>
				<span class="na">title</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Test Dialog</span><span class="dl">'</span>
			<span class="p">},</span>
			<span class="na">submitActionName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">saveDialog</span><span class="dl">'</span>
		<span class="p">}</span>
	<span class="p">);</span>
	
	<span class="nx">elById</span><span class="p">(</span><span class="dl">'</span><span class="s1">testDialogButton</span><span class="dl">'</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">dialog</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
	<span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>


    <div class="tags">
        
    </div>

    

</div>

      </div>
    </div>
  </div>

  <div class="footerBox">
    <div class="container">
      <div class="footerBoxLeft">
        
        <a target="_blank" href="https://github.com/woltlab/woltlab.github.io/blob/master/pages/php/api/php_api_form_builder.md" class="btn btn-default githubEditButton no_icon" role="button"><i class="fa fa-github fa-lg"></i> Edit on GitHub</a>
        <p>Site last generated: Jul 9, 2021</p>
      </div>
      <div class="footerBoxRight">
        <a class="no_icon" href="https://www.woltlab.com"><img src="https://docs.woltlab.com/5.3/images/woltlab-black.png" srcset="https://docs.woltlab.com/5.3/images/woltlab-black@2x.png 2x" height="40" width="204" alt=""></a>
      </div>
    </div>
  </div>

  <div class="pageFooter">
    <div class="container">
      &copy; 2001 ‐ 2021 <a class="no_icon" href="https://www.woltlab.com">WoltLab GmbH</a>. All rights reserved. | <a class="no_icon" href="https://www.woltlab.com/legal-notice/">Legal Notice</a> | <a class="no_icon" href="https://www.woltlab.com/privacy-policy/">Privacy Policy</a>
    </div>
  </div>
</body>

</html>
