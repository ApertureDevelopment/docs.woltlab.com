<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Migrating from WSC 3.1 - Like System | WoltLab Suite 5.3 Documentation</title>

<link rel="stylesheet" href="https://docs.woltlab.com/css/syntax.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600">
<link rel="stylesheet" href="https://docs.woltlab.com/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="https://docs.woltlab.com/css/modern-business.css">
<link rel="stylesheet" href="https://docs.woltlab.com/css/lavish-bootstrap.css">
<link rel="stylesheet" href="https://docs.woltlab.com/css/customstyles.css">
<link rel="stylesheet" href="https://docs.woltlab.com/css/theme-blue.css?v=3">

<script src="https://docs.woltlab.com/js/jquery.min.js"></script>
<script src="https://docs.woltlab.com/js/jquery.cookie.min.js"></script>
<script src="https://docs.woltlab.com/js/jquery.navgoco.min.js"></script>
<script src="https://docs.woltlab.com/js/bootstrap.min.js"></script>
<script src="https://docs.woltlab.com/js/anchor.min.js"></script>
<script src="https://docs.woltlab.com/js/toc.js"></script>
<script src="https://docs.woltlab.com/js/customscripts.js"></script>

<link rel="shortcut icon" href="https://docs.woltlab.com/images/favicon.ico">

<link rel="alternate" type="application/rss+xml" title="mike-test" href="https://docs.woltlab.comfeed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>
  <!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> WoltLab Suite 5.3 Documentation</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                
                
                <li><a href="https://www.woltlab.com" target="_blank">woltlab.com</a></li>
                
                
                
                
                
                <li><a href="https://github.com/WoltLab/WCF/" target="_blank">Code on github.com</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="https://docs.woltlab.com/js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'https://docs.woltlab.com/search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Migrating from WSC 3.1 - Like System">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>


  <div class="container">
    <div class="col-lg-12">&nbsp;</div>

    <div class="row">
      <div class="col-md-3">
        


<ul id="mysidebar" class="nav">
    <li class="sidebarTitle">WoltLab Suite 5.3</li>

    
        
            <li>
                <a href="#">Getting Started</a>
                <ul>
                    
                        
                            
                            
                                <li data-identifier="index"><a href="index.html">Introduction</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="getting-started_quick-start"><a href="getting-started_quick-start.html">Quick Start</a></li>
                            
                        

                        
                    
                </ul>
            </li>
        
            <li>
                <a href="#">PHP API</a>
                <ul>
                    
                        
                            
                            
                                <li data-identifier="php_pages"><a href="php_pages.html">Pages</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="php_database-objects"><a href="php_database-objects.html">Database Objects</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="php_database-access"><a href="php_database-access.html">Database Access</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="php_exceptions"><a href="php_exceptions.html">Exceptions</a></li>
                            
                        

                        
                    
                        

                        
                            <li class="subfolders">
                                <a href="#">API</a>
                                <ul>
                                    
                                        
                                        
                                            <li data-identifier="php_api_caches"><a href="php_api_caches.html">Caches</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="php_api_comments"><a href="php_api_comments.html">Comments</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="php_api_cronjobs"><a href="php_api_cronjobs.html">Cronjobs</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="php_api_events"><a href="php_api_events.html">Events</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="php_api_form_builder"><a href="php_api_form_builder.html">Form Builder</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="php_api_package_installation_plugins"><a href="php_api_package_installation_plugins.html">Package Installation Plugins</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="php_api_user_activity_points"><a href="php_api_user_activity_points.html">User Activity Points</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="php_api_user_notifications"><a href="php_api_user_notifications.html">User Notifications</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="php_api_sitemaps"><a href="php_api_sitemaps.html">Sitemaps</a></li>
                                        
                                    
                                </ul>
                            </li>
                        
                    
                        
                            
                            
                                <li data-identifier="php_code-style"><a href="php_code-style.html">Code Style</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="php_apps"><a href="php_apps.html">Apps</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="php_gdpr"><a href="php_gdpr.html">GDPR</a></li>
                            
                        

                        
                    
                </ul>
            </li>
        
            <li>
                <a href="#">Languages, Templates & CSS</a>
                <ul>
                    
                        
                            
                            
                                <li data-identifier="view_languages"><a href="view_languages.html">Languages</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="view_templates"><a href="view_templates.html">Templates</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="view_css"><a href="view_css.html">CSS</a></li>
                            
                        

                        
                    
                </ul>
            </li>
        
            <li>
                <a href="#">JavaScript API</a>
                <ul>
                    
                        
                            
                            
                                <li data-identifier="javascript_general-usage"><a href="javascript_general-usage.html">General Usage</a></li>
                            
                        

                        
                    
                        

                        
                            <li class="subfolders">
                                <a href="#">New API</a>
                                <ul>
                                    
                                        
                                        
                                            <li data-identifier="javascript_new-api_writing-a-module"><a href="javascript_new-api_writing-a-module.html">Writing a module</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="javascript_new-api_data-structures"><a href="javascript_new-api_data-structures.html">Data Structures</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="javascript_new-api_core"><a href="javascript_new-api_core.html">Core Functions</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="javascript_new-api_dom"><a href="javascript_new-api_dom.html">DOM</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="javascript_new-api_events"><a href="javascript_new-api_events.html">Event Handling</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="javascript_new-api_ajax"><a href="javascript_new-api_ajax.html">Ajax</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="javascript_new-api_dialogs"><a href="javascript_new-api_dialogs.html">Dialogs</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="javascript_new-api_browser"><a href="javascript_new-api_browser.html">Browser and Screen Sizes</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="javascript_new-api_ui"><a href="javascript_new-api_ui.html">User Interface</a></li>
                                        
                                    
                                </ul>
                            </li>
                        
                    
                        
                            
                            
                                <li data-identifier="javascript_legacy-api"><a href="javascript_legacy-api.html">Legacy API</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="javascript_helper-functions"><a href="javascript_helper-functions.html">Helper Functions</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="javascript_code-snippets"><a href="javascript_code-snippets.html">Code Snippets</a></li>
                            
                        

                        
                    
                </ul>
            </li>
        
            <li>
                <a href="#">Package Components</a>
                <ul>
                    
                        
                            
                            
                                <li data-identifier="package_package-xml"><a href="package_package-xml.html">package.xml</a></li>
                            
                        

                        
                    
                        
                            
                            
                                <li data-identifier="package_pip"><a href="package_pip.html">PIPs</a></li>
                            
                        

                        
                    
                </ul>
            </li>
        
            <li>
                <a href="#">Migration</a>
                <ul>
                    
                        

                        
                            <li class="subfolders">
                                <a href="#">Migrating from WSC 5.2</a>
                                <ul>
                                    
                                        
                                        
                                            <li data-identifier="migration_wsc-52_php"><a href="migration_wsc-52_php.html">PHP API</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="migration_wsc-52_templates"><a href="migration_wsc-52_templates.html">Templates and Languages</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="migration_wsc-52_libraries"><a href="migration_wsc-52_libraries.html">Third Party Libraries</a></li>
                                        
                                    
                                </ul>
                            </li>
                        
                            <li class="subfolders">
                                <a href="#">Migrating from WSC 3.1</a>
                                <ul>
                                    
                                        
                                        
                                            <li data-identifier="migration_wsc-31_php"><a href="migration_wsc-31_php.html">PHP API</a></li>
                                        
                                    
                                </ul>
                            </li>
                        
                            <li class="subfolders">
                                <a href="#">Migrating from WSC 3.0</a>
                                <ul>
                                    
                                        
                                        
                                            <li data-identifier="migration_wsc-30_php"><a href="migration_wsc-30_php.html">PHP API</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="migration_wsc-30_javascript"><a href="migration_wsc-30_javascript.html">JavaScript API</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="migration_wsc-30_templates"><a href="migration_wsc-30_templates.html">Templates</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="migration_wsc-30_css"><a href="migration_wsc-30_css.html">CSS</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="migration_wsc-30_package"><a href="migration_wsc-30_package.html">Package Components</a></li>
                                        
                                    
                                </ul>
                            </li>
                        
                            <li class="subfolders">
                                <a href="#">Migrating from WCF 2.1</a>
                                <ul>
                                    
                                        
                                        
                                            <li data-identifier="migration_wcf-21_php"><a href="migration_wcf-21_php.html">PHP API</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="migration_wcf-21_templates"><a href="migration_wcf-21_templates.html">Templates</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="migration_wcf-21_css"><a href="migration_wcf-21_css.html">CSS</a></li>
                                        
                                    
                                        
                                        
                                            <li data-identifier="migration_wcf-21_package"><a href="migration_wcf-21_package.html">Package Components</a></li>
                                        
                                    
                                </ul>
                            </li>
                        
                    
                </ul>
            </li>
        
            <li>
                <a href="#">Tutorials</a>
                <ul>
                    
                        
                            
                            
                                <li data-identifier="tutorial_tutorial-series"><a href="tutorial_tutorial-series.html">Tutorial Series</a></li>
                            
                        

                        
                    
                </ul>
            </li>
        
    
</ul>

<script>
(function() {
    var sidebar = $('#mysidebar');
    var item = sidebar.find('.active');
    if (item.length === 0) {
        var parent = 'migration_wsc-31_php';
        if (parent) {
            sidebar.find('li[data-identifier="' + parent + '"]').addClass('active');
        }
    }

    sidebar.find(".active").parents('li').toggleClass("active");
})();
</script>

      </div>

      <div class="col-md-9">
        <div class="post-header">
   <h1 class="post-title-main">Migrating from WSC 3.1 - Like System</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    
    
  <h2 id="introduction">Introduction</h2>

<p>With version 5.2 of WoltLab Suite Core the like system was completely replaced by the new reactions system. This makes it necessary to make some adjustments to existing code so that your plugin integrates completely into the new system. However, we have kept these adjustments as small as possible so that it is possible to use the reaction system with slight restrictions even without adjustments.</p>

<h2 id="limitations-if-no-adjustments-are-made-to-the-existing-code">Limitations if no adjustments are made to the existing code</h2>

<p>If no adjustments are made to the existing code, the following functions are not available:</p>
<ul>
  <li>Notifications about reactions/likes</li>
  <li>Recent Activity Events for reactions/likes</li>
</ul>

<h2 id="migration">Migration</h2>
<h3 id="notifications">Notifications</h3>
<h4 id="mark-notification-as-compatible">Mark notification as compatible</h4>
<p>Since there are no more likes with the new version, it makes no sense to send notifications about it. Instead of notifications about likes, notifications about reactions are now sent. However, this only changes the notification text and not the notification itself. To update the notification, we first add the interface <code class="language-plaintext highlighter-rouge">\wcf\data\reaction\object\IReactionObject</code> to the <code class="language-plaintext highlighter-rouge">\wcf\data\like\object\ILikeObject</code> object (e.g. in WoltLab Suite Forum we added the interface to the class <code class="language-plaintext highlighter-rouge">\wbb\data\post\LikeablePost</code>). After that the object is marked as “compatible with WoltLab Suite Core 5.2” and notifications about reactions are sent again.</p>

<h4 id="language-variables">Language Variables</h4>
<p>Next, to display all reactions for the current notification in the notification text, we include the trait <code class="language-plaintext highlighter-rouge">\wcf\system\user\notification\event\TReactionUserNotificationEvent</code> in the user notification event class (typically named like <code class="language-plaintext highlighter-rouge">*LikeUserNotificationEvent</code>). These trait provides a new function that reads out and groups the reactions. The result of this function must now only be passed to the language variable. The name “reactions” is typically used as the variable name for the language variable.</p>

<p>As a final step, we only need to change the language variables themselves. To ensure a consistent usability, the same formulations should be used as in the WoltLab Suite Core.</p>

<h5 id="english">English</h5>

<p><code class="language-plaintext highlighter-rouge">{prefix}.like.title</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Reaction to a {objectName}
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">{prefix}.like.title.stacked</code></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{#$count} users reacted to your {objectName}
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">{prefix}.like.message</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{@$author-&gt;getAnchorTag()} reacted to your {objectName} ({implode from=$reactions key=reactionID item=count}{@$__wcf-&gt;getReactionHandler()-&gt;getReactionTypeByID($reactionID)-&gt;renderIcon()}×{#$count}{/implode}).
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">{prefix}.like.message.stacked</code></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{if $count &lt; 4}{@$authors[0]-&gt;getAnchorTag()}{if $count == 2} and {else}, {/if}{@$authors[1]-&gt;getAnchorTag()}{if $count == 3} and {@$authors[2]-&gt;getAnchorTag()}{/if}{else}{@$authors[0]-&gt;getAnchorTag()} and {#$others} others{/if} reacted to your {objectName} ({implode from=$reactions key=reactionID item=count}{@$__wcf-&gt;getReactionHandler()-&gt;getReactionTypeByID($reactionID)-&gt;renderIcon()}×{#$count}{/implode}).
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">wcf.user.notification.{objectTypeName}.like.notification.like</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Notify me when someone reacted to my {objectName}
</code></pre></div></div>

<h5 id="german">German</h5>

<p><code class="language-plaintext highlighter-rouge">{prefix}.like.title</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Reaktion auf einen {objectName}
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">{prefix}.like.title.stacked</code></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{#$count} Benutzern haben auf {if LANGUAGE_USE_INFORMAL_VARIANT}dein(en){else}Ihr(en){/if} {objectName} reagiert
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">{prefix}.like.message</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{@$author-&gt;getAnchorTag()} hat auf {if LANGUAGE_USE_INFORMAL_VARIANT}dein(en){else}Ihr(en){/if} {objectName} reagiert ({implode from=$reactions key=reactionID item=count}{@$__wcf-&gt;getReactionHandler()-&gt;getReactionTypeByID($reactionID)-&gt;renderIcon()}×{#$count}{/implode}).
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">{prefix}.like.message.stacked</code></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{if $count &lt; 4}{@$authors[0]-&gt;getAnchorTag()}{if $count == 2} und {else}, {/if}{@$authors[1]-&gt;getAnchorTag()}{if $count == 3} und {@$authors[2]-&gt;getAnchorTag()}{/if}{else}{@$authors[0]-&gt;getAnchorTag()} und {#$others} weitere{/if} haben auf {if LANGUAGE_USE_INFORMAL_VARIANT}dein(en){else}Ihr(en){/if} {objectName} reagiert ({implode from=$reactions key=reactionID item=count}{@$__wcf-&gt;getReactionHandler()-&gt;getReactionTypeByID($reactionID)-&gt;renderIcon()}×{#$count}{/implode}).
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">wcf.user.notification.{object_type_name}.like.notification.like</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Jemandem hat auf {if LANGUAGE_USE_INFORMAL_VARIANT}dein(en){else}Ihr(en){/if} {objectName} reagiert
</code></pre></div></div>

<h3 id="recent-activity">Recent Activity</h3>

<p>To adjust entries in the Recent Activity, only three small steps are necessary. First we pass the concrete reaction to the language variable, so that we can use the reaction object there. To do this, we add the following variable to the text of the <code class="language-plaintext highlighter-rouge">\wcf\system\user\activity\event\IUserActivityEvent</code> object: <code class="language-plaintext highlighter-rouge">$event-&gt;reactionType</code>. Typically we name the variable <code class="language-plaintext highlighter-rouge">reactionType</code>. In the second step, we mark the event as compatible. Therefore we set the parameter <code class="language-plaintext highlighter-rouge">supportsReactions</code> in the <a href="package_pip_object-type"><code class="language-plaintext highlighter-rouge">objectType.xml</code></a> to <code class="language-plaintext highlighter-rouge">1</code>. So for example the entry looks like this:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;type&gt;</span>
	<span class="nt">&lt;name&gt;</span>com.woltlab.example.likeableObject.recentActivityEvent<span class="nt">&lt;/name&gt;</span>
	<span class="nt">&lt;definitionname&gt;</span>com.woltlab.wcf.user.recentActivityEvent<span class="nt">&lt;/definitionname&gt;</span>
	<span class="nt">&lt;classname&gt;</span>wcf\system\user\activity\event\LikeableObjectUserActivityEvent<span class="nt">&lt;/classname&gt;</span>
	<span class="nt">&lt;supportsReactions&gt;</span>1<span class="nt">&lt;/supportsReactions&gt;</span>
<span class="nt">&lt;/type&gt;</span>
</code></pre></div></div>

<p>Finally we modify our language variable. To ensure a consistent usability, the same formulations should be used as in the WoltLab Suite Core.</p>

<h4 id="english-1">English</h4>
<p><code class="language-plaintext highlighter-rouge">wcf.user.recentActivity.{object_type_name}.recentActivityEvent</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Reaction ({objectName})
</code></pre></div></div>

<p><em>Your language variable for the recent activity text</em></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Reacted with &lt;span title="{$reactionType-&gt;getTitle()}" class="jsTooltip"&gt;{@$reactionType-&gt;renderIcon()}&lt;/span&gt; to the {objectName}.
</code></pre></div></div>

<h4 id="german-1">German</h4>
<p><code class="language-plaintext highlighter-rouge">wcf.user.recentActivity.{objectTypeName}.recentActivityEvent</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Reaktion ({objectName})
</code></pre></div></div>

<p><em>Your language variable for the recent activity text</em></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Hat mit &lt;span title="{$reactionType-&gt;getTitle()}" class="jsTooltip"&gt;{@$reactionType-&gt;renderIcon()}&lt;/span&gt; auf {objectName} reagiert.
</code></pre></div></div>

<h3 id="comments">Comments</h3>
<p>If comments send notifications, they must also be updated. The language variables are changed in the same way as described in the section <a href="migration_wsc-31_like.html#Language-Variables">Notifications / Language</a>. After that comment must be marked as compatible. Therefore we set the parameter <code class="language-plaintext highlighter-rouge">supportsReactions</code> in the <a href="package_pip_object-type"><code class="language-plaintext highlighter-rouge">objectType.xml</code></a> to <code class="language-plaintext highlighter-rouge">1</code>. So for example the entry looks like this:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;type&gt;</span>
	<span class="nt">&lt;name&gt;</span>com.woltlab.wcf.objectComment.response.like.notification<span class="nt">&lt;/name&gt;</span>
	<span class="nt">&lt;definitionname&gt;</span>com.woltlab.wcf.notification.objectType<span class="nt">&lt;/definitionname&gt;</span>
	<span class="nt">&lt;classname&gt;</span>wcf\system\user\notification\object\type\LikeUserNotificationObjectType<span class="nt">&lt;/classname&gt;</span>
	<span class="nt">&lt;category&gt;</span>com.woltlab.example<span class="nt">&lt;/category&gt;</span>
	<span class="nt">&lt;supportsReactions&gt;</span>1<span class="nt">&lt;/supportsReactions&gt;</span>
<span class="nt">&lt;/type&gt;</span>
</code></pre></div></div>

<h2 id="forward-compatibility">Forward Compatibility</h2>

<p>So that these changes also work in older versions of WoltLab Suite Core, the used classes and traits were backported with WoltLab Suite Core 3.0.22 and WoltLab Suite Core 3.1.10.</p>


    <div class="tags">
        
    </div>

    

</div>

      </div>
    </div>
  </div>

  <div class="footerBox">
    <div class="container">
      <div class="footerBoxLeft">
        
        <a target="_blank" href="https://github.com/woltlab/woltlab.github.io/blob/master/pages/migration/wsc-31/migration_wsc-31_like.md" class="btn btn-default githubEditButton no_icon" role="button"><i class="fa fa-github fa-lg"></i> Edit on GitHub</a>
        <p>Site last generated: Mar 2, 2021</p>
      </div>
      <div class="footerBoxRight">
        <a class="no_icon" href="https://www.woltlab.com"><img src="https://docs.woltlab.com/images/woltlab-black.png" srcset="https://docs.woltlab.com/images/woltlab-black@2x.png 2x" height="40" width="204" alt=""></a>
      </div>
    </div>
  </div>

  <div class="pageFooter">
    <div class="container">
      &copy; 2001 ‐ 2021 <a class="no_icon" href="https://www.woltlab.com">WoltLab GmbH</a>. All rights reserved. | <a class="no_icon" href="https://www.woltlab.com/legal-notice/">Legal Notice</a> | <a class="no_icon" href="https://www.woltlab.com/privacy-policy/">Privacy Policy</a>
    </div>
  </div>
</body>

</html>
